# 极客风格UI设计指南

**项目**: AI-Narrated Recap Analyst Web UI  
**风格**: 技术极客风 (VSCode + iTerm2 + Gruvbox)  
**版本**: v1.0  
**日期**: 2026-02-10

---

## 目录

1. [设计理念](#1-设计理念)
2. [配色方案](#2-配色方案)
3. [核心页面设计](#3-核心页面设计)
4. [组件设计](#4-组件设计)
5. [交互设计](#5-交互设计)
6. [动画效果](#6-动画效果)
7. [响应式设计](#7-响应式设计)

---

## 1. 设计理念

### 1.1 核心原则

**极简主义 (Minimalism)**
- ❌ 去除不必要的装饰
- ✅ 每个元素都有明确功能
- ✅ 信息密度高但不拥挤

**功能优先 (Function First)**
- ❌ 为了好看而牺牲可用性
- ✅ 快捷键优先
- ✅ 键盘操作流畅

**终端美学 (Terminal Aesthetic)**
- ✅ 等宽字体
- ✅ 深色背景
- ✅ 高对比度文本
- ✅ ANSI颜色系统

**信息可见 (Information Visibility)**
- ✅ 实时指标展示 (Token、成本、时间)
- ✅ 状态一目了然
- ✅ 日志实时滚动
- ✅ 数据可交互

---

## 2. 配色方案

### 2.1 主色调 (Gruvbox Dark)

```
┌─────────────────────────────────────────────────────────────┐
│  🎨 主色调                                                   │
├─────────────────────────────────────────────────────────────┤
│  背景色                                                      │
│  ■ #0d1117  最深背景 (主背景)                                │
│  ■ #161b22  次级背景 (卡片)                                  │
│  ■ #21262d  三级背景 (悬停)                                  │
│  ■ #30363d  边框/分隔                                        │
├─────────────────────────────────────────────────────────────┤
│  文本色                                                      │
│  ■ #c9d1d9  主要文本 (高对比)                                │
│  ■ #8b949e  次要文本 (中对比)                                │
│  ■ #6e7681  弱化文本 (低对比)                                │
├─────────────────────────────────────────────────────────────┤
│  强调色                                                      │
│  ■ #58a6ff  蓝色 (信息/链接)                                 │
│  ■ #3fb950  绿色 (成功/完成)                                 │
│  ■ #d29922  黄色 (警告/进行中)                               │
│  ■ #f85149  红色 (错误/失败)                                 │
│  ■ #bc8cff  紫色 (特殊/高亮)                                 │
│  ■ #39c5cf  青色 (辅助强调)                                  │
└─────────────────────────────────────────────────────────────┘
```

### 2.2 终端配色 (Gruvbox Dark)

```
┌─────────────────────────────────────────────────────────────┐
│  💻 终端配色                                                 │
├─────────────────────────────────────────────────────────────┤
│  基础                                                        │
│  ■ #1d2021  背景                                             │
│  ■ #ebdbb2  前景                                             │
│  ■ #fabd2f  光标                                             │
│  ■ #504945  选区                                             │
├─────────────────────────────────────────────────────────────┤
│  ANSI标准16色                                                │
│  Black   : ■ #282828  ■ #928374  (暗/亮)                    │
│  Red     : ■ #cc241d  ■ #fb4934  (暗/亮)                    │
│  Green   : ■ #98971a  ■ #b8bb26  (暗/亮)                    │
│  Yellow  : ■ #d79921  ■ #fabd2f  (暗/亮)                    │
│  Blue    : ■ #458588  ■ #83a598  (暗/亮)                    │
│  Magenta : ■ #b16286  ■ #d3869b  (暗/亮)                    │
│  Cyan    : ■ #689d6a  ■ #8ec07c  (暗/亮)                    │
│  White   : ■ #a89984  ■ #ebdbb2  (暗/亮)                    │
└─────────────────────────────────────────────────────────────┘
```

### 2.3 语义化颜色

| 用途 | 颜色 | Hex | 示例 |
|-----|------|-----|------|
| 成功 | 绿色 | #3fb950 | ✅ 工作流完成 |
| 警告 | 黄色 | #d29922 | ⚠️ Token接近限额 |
| 错误 | 红色 | #f85149 | ❌ API调用失败 |
| 信息 | 蓝色 | #58a6ff | ℹ️ 提示信息 |
| 进行中 | 紫色 | #bc8cff | 🔄 处理中... |

---

## 3. 核心页面设计

### 3.1 Dashboard (项目面板)

```
┌─────────────────────────────────────────────────────────────────────────┐
│  ┌─────────┐  AI-Narrated Recap Analyst         [🔍 搜索...]  [⚙️]    │ Header
│  │  LOGO   │                                                            │
│  └─────────┘                                                            │
├───────────────┬─────────────────────────────────────────────────────────┤
│  📊 Dashboard │  ┌────────────────────────────────────────────────┐    │
│  🚀 Workflow  │  │  📊 系统概览                                    │    │
│  📝 Results   │  │  ┌──────┐  ┌──────┐  ┌──────┐  ┌──────┐      │    │
│  🔗 Alignment │  │  │ 12   │  │  2   │  │  8   │  │  1   │      │    │
│  📦 Artifacts │  │  │ 总项目│  │ 运行中│  │ 完成  │  │ 失败 │      │    │
│  ⚙️  Settings │  │  └──────┘  └──────┘  └──────┘  └──────┘      │    │
│               │  └────────────────────────────────────────────────┘    │
│  ━━━━━━━━━━   │                                                         │
│               │  ┌────────────────────────────────────────────────┐    │
│  💬 Terminal  │  │  [+ 新建项目]  [📤 导入]  [🔍 搜索...]  [筛选▾] │    │
│  ━━━━━━━━━━   │  └────────────────────────────────────────────────┘    │
│  [展开/收起]  │                                                         │
│               │  ┌─────────────────────┐  ┌─────────────────────┐     │
│               │  │ 末哥超凡公路         │  │ 天命桃花            │     │
│               │  │ ✅ 已完成           │  │ 🔄 处理中...        │     │
│               │  │ 88分 质量           │  │ 75% 进度            │     │
│               │  │ 10章 · 5集          │  │ 8章 · 3集           │     │
│               │  │ 2026-02-10 14:22    │  │ 2026-02-10 15:30    │     │
│               │  │                     │  │ ▓▓▓▓▓▓▓▓▓░░ 75%     │     │
│               │  │ [查看] [删除]       │  │ [查看] [取消]       │     │
│               │  └─────────────────────┘  └─────────────────────┘     │
│               │                                                         │
│               │  ┌─────────────────────┐  ┌─────────────────────┐     │
│               │  │ 修仙模拟器          │  │ 末世求生            │     │
│               │  │ ✅ 已完成           │  │ ❌ 失败             │     │
│               │  │ 92分 质量           │  │ LLM API错误         │     │
│               │  │ 15章 · 8集          │  │ 第3章分段失败       │     │
│               │  │ 2026-02-08 10:15    │  │ 2026-02-09 09:20    │     │
│               │  │ [查看] [删除]       │  │ [查看] [重试]       │     │
│               │  └─────────────────────┘  └─────────────────────┘     │
│               │                                                         │
└───────────────┴─────────────────────────────────────────────────────────┘
                                                                    Sidebar
```

**设计要点**:
- ✅ 卡片式布局，网格排列
- ✅ 状态用图标+颜色表示（✅绿色、🔄紫色、❌红色）
- ✅ 进度条实时更新
- ✅ Hover高亮（边框+阴影）
- ✅ 右上角快速搜索

---

### 3.2 Workflow Execution (工作流执行)

```
┌─────────────────────────────────────────────────────────────────────────┐
│  ┌─────────┐  AI-Narrated Recap Analyst         [🔍 搜索...]  [⚙️]    │
│  │  LOGO   │                                                            │
│  └─────────┘                                                            │
├───────────────┬─────────────────────────────────────────────────────────┤
│  📊 Dashboard │  🚀 启动工作流                                          │
│  🚀 Workflow  │                                                         │
│  📝 Results   │  ┌────────────────────────────────────────────────┐    │
│  🔗 Alignment │  │  选择工作流:                                    │    │
│  📦 Artifacts │  │  ○ Novel Processing  ● Script Processing       │    │
│  ⚙️  Settings │  │  ○ Alignment         ○ Full Pipeline          │    │
│               │  └────────────────────────────────────────────────┘    │
│  ━━━━━━━━━━   │                                                         │
│               │  ┌────────────────────────────────────────────────┐    │
│  💬 Terminal  │  │  上传文件:                                      │    │
│  ━━━━━━━━━━   │  │  ┌──────────────────────────────────────┐     │    │
│  [展开/收起]  │  │  │  📄 拖拽SRT文件到这里                 │     │    │
│               │  │  │  或点击选择 (.srt 最大50MB)           │     │    │
│               │  │  └──────────────────────────────────────┘     │    │
│               │  │                                                 │    │
│               │  │  已选: ep01.srt (45.6 KB)  [✕]                │    │
│               │  └────────────────────────────────────────────────┘    │
│               │                                                         │
│               │  ┌────────────────────────────────────────────────┐    │
│               │  │  配置参数:                                      │    │
│               │  │  LLM Provider   : [Claude            ▾]       │    │
│               │  │  最大并发       : [10                ▾]       │    │
│               │  │  ☑ 启用Hook检测                               │    │
│               │  │  ☑ 启用ABC分类                                │    │
│               │  │                                                 │    │
│               │  │  预估Token  : ~18,000                         │    │
│               │  │  预估成本   : $0.18                           │    │
│               │  │  预估时间   : 3-5分钟                         │    │
│               │  └────────────────────────────────────────────────┘    │
│               │                                                         │
│               │  [开始处理]  [取消]                                    │
│               │                                                         │
└───────────────┴─────────────────────────────────────────────────────────┘
```

**处理中界面**:

```
┌─────────────────────────────────────────────────────────────────────────┐
│  📊 Script Processing - ep01                               [取消] [暂停] │
├─────────────────────────────────────────────────────────────────────────┤
│  ┌────────────────────────────────────────────────────────────────┐     │
│  │  整体进度: ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓░░░░░ 75% (3/4 步骤完成)            │     │
│  └────────────────────────────────────────────────────────────────┘     │
│                                                                          │
│  ┌────────────────────────────────────────────────────────────────┐     │
│  │  阶段列表                                                       │     │
│  │  ├─ ✅ SRT导入                    [2.1s]   100%              │     │
│  │  ├─ ✅ 文本提取                   [15.3s]  100%              │     │
│  │  ├─ 🔄 Hook检测 (进行中...)      [32.5s]   65%              │     │
│  │  └─ ⏳ 脚本分段 (等待中)                                      │     │
│  └────────────────────────────────────────────────────────────────┘     │
│                                                                          │
│  ┌─────────────┬─────────────┬─────────────┬─────────────┐             │
│  │ Token消耗   │ 预估成本    │ 已用时间    │ 预计剩余    │             │
│  │ 12,543      │ $0.15       │ 2分15秒     │ 1分15秒     │             │
│  │ / 18,000    │             │             │             │             │
│  └─────────────┴─────────────┴─────────────┴─────────────┘             │
│                                                                          │
├─────────────────────────────────────────────────────────────────────────┤
│  💬 实时日志                                          [清屏] [搜索] [▼] │
│  ┌────────────────────────────────────────────────────────────────┐     │
│  │ [15:30:12.123] INFO  | SRT导入完成, 48条字幕                   │     │
│  │ [15:30:27.456] INFO  | 文本提取完成, 共1280个字符              │     │
│  │ [15:30:30.789] INFO  | 开始Hook检测...                         │     │
│  │ [15:30:45.012] INFO  | LLM调用完成, Token: 1234               │     │
│  │ [15:31:00.345] WARN  | Hook检测耗时较长, 请耐心等待...         │     │
│  │ [15:31:15.678] INFO  | Hook检测完成, 置信度: 90%              │     │
│  │ █                                                               │     │
│  └────────────────────────────────────────────────────────────────┘     │
└─────────────────────────────────────────────────────────────────────────┘
```

**设计要点**:
- ✅ 整体进度条 + 细分阶段列表
- ✅ 实时指标卡片（Token、成本、时间）
- ✅ xterm.js终端显示日志（支持ANSI颜色）
- ✅ 暂停/取消按钮
- ✅ 日志支持搜索、清屏

---

### 3.3 Result Viewer (结果查看)

```
┌─────────────────────────────────────────────────────────────────────────┐
│  📝 末哥超凡公路 - Novel处理结果                    [导出▾] [分享]     │
├────────────────┬────────────────────────────────────────────────────────┤
│  章节列表       │  [分段结果] [标注数据] [质量报告] [原文对比]          │
│                │                                                        │
│  ● 第1章       │  ┌──────────────────────────────────────────────┐     │
│    第2章       │  │  质量评分: 92/100  ✅                        │     │
│    第3章       │  │  分段数: 11  (A:3, B:7, C:1)                 │     │
│    第4章       │  │  事件数: 15  设定数: 8                       │     │
│    ...         │  └──────────────────────────────────────────────┘     │
│                │                                                        │
│  [📊 统计]     │  ┌──────────────────────────────────────────────┐     │
│  [⚙️ 设置]     │  │  段落1  [A类-设定]  行号: 1-5         P0-骨架│     │
│                │  │  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━│     │
│                │  │  收音机中传来紧急播报："上沪沦陷，诡异爆发 │     │
│                │  │  席卷全国，所有民众请尽快撤离..."          │     │
│                │  │                                              │     │
│                │  │  🏷️ 标签:                                   │     │
│                │  │    • 地点: 车内                              │     │
│                │  │    • 时间: 上午                              │     │
│                │  │    • 叙事功能: 开局设定                      │     │
│                │  │    • 优先级: P0-骨架                         │     │
│                │  │                                              │     │
│                │  │  📌 关联事件: E001-收音机播报                │     │
│                │  └──────────────────────────────────────────────┘     │
│                │                                                        │
│                │  ┌──────────────────────────────────────────────┐     │
│                │  │  段落2  [B类-事件]  行号: 6-10        P1-血肉│     │
│                │  │  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━│     │
│                │  │  陈峰紧握方向盘,眼神凝重地看着前方...      │     │
│                │  │                                              │     │
│                │  │  🏷️ 标签:                                   │     │
│                │  │    • 地点: 车内（无变化）                    │     │
│                │  │    • 角色: 陈峰                              │     │
│                │  │    • 叙事功能: 人物反应                      │     │
│                │  │                                              │     │
│                │  │  📌 关联事件: E002-陈峰驾驶反应              │     │
│                │  └──────────────────────────────────────────────┘     │
│                │                                                        │
│                │  [下载JSON]  [复制内容]  [打印]                       │
│                │                                                        │
└────────────────┴────────────────────────────────────────────────────────┘
```

**设计要点**:
- ✅ 左侧章节列表（当前章节高亮）
- ✅ 顶部Tab切换（分段/标注/质量/原文）
- ✅ 段落展开/收起
- ✅ 标签用徽章显示（P0绿色、P1蓝色、P2灰色）
- ✅ ABC类用颜色区分（A黄色、B蓝色、C紫色）
- ✅ 支持搜索、筛选

---

### 3.4 Alignment Viewer (对齐可视化)

```
┌─────────────────────────────────────────────────────────────────────────┐
│  🔗 末哥超凡公路 - Novel-Script对齐分析                [导出] [报告]   │
├────────────────┬────────────────────────────────────────────────────────┤
│  集数选择       │  [桑基图] [时间轴] [表格] [统计]                      │
│                │                                                        │
│  ● ep01        │  ┌──────────────────────────────────────────────┐     │
│    (第1-2章)   │  │  📊 覆盖率统计                                │     │
│    ep02        │  │  事件覆盖: ▓▓▓▓▓▓▓▓▓░ 85% (17/20)           │     │
│    (第2-3章)   │  │  设定覆盖: ▓▓▓▓▓▓▓▓▓▓ 100% (5/5)            │     │
│    ep03        │  │  平均置信度: 0.92                             │     │
│    ...         │  └──────────────────────────────────────────────┘     │
│                │                                                        │
│  [📊 总览]     │  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━     │
│                │                                                        │
│                │  Novel (左)                 Script (右)               │
│                │                                                        │
│                │  ┌──────────────┐         ┌──────────────┐            │
│                │  │ 段落1 (A类)  │━━━━━━━━▶│ 句子1-3      │  paraphrase│
│                │  │ 诡异爆发设定  │         │ 末世背景介绍  │  置信:0.92 │
│                │  └──────────────┘         └──────────────┘            │
│                │                                                        │
│                │  ┌──────────────┐         ┌──────────────┐            │
│                │  │ 段落2 (B类)  │━━━━━━━━▶│ 句子4-6      │  exact     │
│                │  │ 收音机播报    │         │ 收音机播报    │  置信:0.98 │
│                │  └──────────────┘         └──────────────┘            │
│                │                                                        │
│                │  ┌──────────────┐         ┌──────────────┐            │
│                │  │ 段落3 (B类)  │━━━━━━━━▶│ 句子7-10     │  summarize │
│                │  │ 陈峰驾驶      │         │ 陈峰反应      │  置信:0.88 │
│                │  └──────────────┘         └──────────────┘            │
│                │                                                        │
│                │  ┌──────────────┐                                     │
│                │  │ 段落4 (A类)  │  ⚠️ 未对齐                         │
│                │  │ 车队铁律设定  │                                     │
│                │  └──────────────┘                                     │
│                │                                                        │
│                │  [生成报告]  [导出数据]  [打印]                        │
│                │                                                        │
└────────────────┴────────────────────────────────────────────────────────┘
```

**桑基图模式** (D3.js):
```
Novel                                     Script
┌─────────────┐                          ┌─────────────┐
│ 段落1       │━━━━━━━━━━━━━━━━━━━━━━━━▶│ 句子1-3     │
│ (A类-设定)  │                          │ (A类-设定)  │
└─────────────┘                          └─────────────┘
                                         
┌─────────────┐    ┌─────────────┐      
│ 段落2       │━━━━│             │━━━━━▶┌─────────────┐
│ (B类-事件)  │    │             │      │ 句子4-8     │
└─────────────┘    │   对齐关系   │      │ (B类-事件)  │
                   │             │      └─────────────┘
┌─────────────┐    │             │      
│ 段落3       │━━━━│             │━━━━━▶┌─────────────┐
│ (B类-事件)  │    └─────────────┘      │ 句子9-12    │
└─────────────┘                          │ (B类-事件)  │
                                         └─────────────┘
```

**设计要点**:
- ✅ 桑基图用D3.js实现
- ✅ 连线颜色表示改写策略（蓝色exact、绿色paraphrase、黄色summarize）
- ✅ 连线粗细表示置信度
- ✅ Hover显示详细信息
- ✅ 点击段落展开完整内容
- ✅ 未对齐段落高亮警告

---

## 4. 组件设计

### 4.1 Button (按钮)

```tsx
// 主按钮（Primary）
┌─────────────────────┐
│   开始处理 ▶        │  ← 蓝色背景 (#58a6ff)
└─────────────────────┘

// 次按钮（Secondary）
┌─────────────────────┐
│   取消              │  ← 深色背景 (#21262d)，边框
└─────────────────────┘

// 危险按钮（Danger）
┌─────────────────────┐
│   删除 🗑️           │  ← 红色背景 (#f85149)
└─────────────────────┘

// 图标按钮
┌───┐
│ ⚙️ │  ← 小尺寸，仅图标
└───┘
```

**Hover效果**:
- 主按钮: 背景变亮10%
- 次按钮: 边框变亮，添加阴影
- 按下: 缩小98%

**代码示例**:
```tsx
// 组件使用
<Button variant="primary" icon="▶">开始处理</Button>
<Button variant="secondary">取消</Button>
<Button variant="danger" icon="🗑️">删除</Button>
<Button variant="icon" icon="⚙️" />
```

---

### 4.2 Card (卡片)

```
┌─────────────────────────────────────────────┐
│  项目名称                            [⋮]    │  ← Header
├─────────────────────────────────────────────┤
│  ✅ 已完成                                  │  ← Status Badge
│  88分 质量                                  │  ← Metric
│  10章 · 5集                                 │
│                                             │  ← Content Area
│  ▓▓▓▓▓▓▓▓▓▓░░ 85%                          │  ← Progress Bar
│                                             │
│  2026-02-10 14:22                           │  ← Footer
├─────────────────────────────────────────────┤
│  [查看]  [删除]                             │  ← Actions
└─────────────────────────────────────────────┘
```

**状态**:
- 默认: 背景 #161b22，边框 #30363d
- Hover: 背景 #21262d，边框 #58a6ff (蓝色高亮)
- 选中: 边框加粗，阴影 0 0 0 2px #58a6ff

**代码示例**:
```tsx
<Card>
  <CardHeader>
    <CardTitle>项目名称</CardTitle>
    <CardMenu />
  </CardHeader>
  <CardContent>
    <Badge status="success">已完成</Badge>
    <Text>88分 质量</Text>
    <Progress value={85} />
  </CardContent>
  <CardFooter>
    <Button>查看</Button>
    <Button variant="secondary">删除</Button>
  </CardFooter>
</Card>
```

---

### 4.3 Terminal (终端)

```
┌─────────────────────────────────────────────────────────────┐
│  💬 实时日志                  [清屏] [搜索...] [▼滚动到底] │
├─────────────────────────────────────────────────────────────┤
│  [15:30:12.123] INFO  | SRT导入完成, 48条字幕             │
│  [15:30:27.456] INFO  | 文本提取完成, 共1280个字符        │
│  [15:30:30.789] INFO  | 开始Hook检测...                   │
│  [15:30:45.012] INFO  | LLM调用完成, Token: 1234         │
│  [15:31:00.345] WARN  | Hook检测耗时较长, 请耐心等待...   │
│  [15:31:15.678] INFO  | Hook检测完成, 置信度: 90%        │
│  █                                                          │
└─────────────────────────────────────────────────────────────┘
```

**ANSI颜色支持**:
- INFO: 青色 (#39c5cf)
- WARN: 黄色 (#d29922)
- ERROR: 红色 (#f85149)
- SUCCESS: 绿色 (#3fb950)

**特性**:
- ✅ 实时滚动（自动滚到底部）
- ✅ 支持搜索（Ctrl+F）
- ✅ 支持选择复制
- ✅ 清屏按钮
- ✅ 最大高度400px，超出滚动

**代码示例**:
```tsx
<Terminal
  logs={logs}
  maxHeight={400}
  autoScroll={true}
  enableSearch={true}
/>
```

---

### 4.4 Progress (进度条)

```
┌─────────────────────────────────────────────────────────┐
│  整体进度: ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓░░░░░ 75%                    │
└─────────────────────────────────────────────────────────┘

细分进度:
├─ ✅ SRT导入                    [2.1s]   100%
├─ ✅ 文本提取                   [15.3s]  100%
├─ 🔄 Hook检测 (进行中...)      [32.5s]   65%
└─ ⏳ 脚本分段 (等待中)
```

**状态颜色**:
- 完成 (✅): 绿色 (#3fb950)
- 进行中 (🔄): 紫色 (#bc8cff)
- 等待中 (⏳): 灰色 (#6e7681)

**代码示例**:
```tsx
// 整体进度条
<Progress value={75} label="整体进度" />

// 阶段列表
<ProgressSteps
  steps={[
    { name: "SRT导入", status: "completed", duration: 2.1 },
    { name: "文本提取", status: "completed", duration: 15.3 },
    { name: "Hook检测", status: "running", progress: 0.65, duration: 32.5 },
    { name: "脚本分段", status: "pending" },
  ]}
/>
```

---

### 4.5 Badge (徽章)

```
状态徽章:
✅ 已完成    ← 绿色 (#3fb950)
🔄 处理中... ← 紫色 (#bc8cff)
⚠️ 警告      ← 黄色 (#d29922)
❌ 失败      ← 红色 (#f85149)

类型徽章:
[A类-设定]   ← 黄色边框
[B类-事件]   ← 蓝色边框
[C类-系统]   ← 紫色边框

优先级徽章:
[P0-骨架]    ← 绿色
[P1-血肉]    ← 蓝色
[P2-皮肤]    ← 灰色
```

**代码示例**:
```tsx
<Badge status="success">已完成</Badge>
<Badge status="running">处理中...</Badge>
<Badge type="A" color="yellow">A类-设定</Badge>
<Badge priority="P0" color="green">P0-骨架</Badge>
```

---

### 4.6 Modal (模态框)

```
                   (遮罩层，半透明黑色)
┌─────────────────────────────────────────────┐
│  创建新项目                           [✕]   │  ← Header
├─────────────────────────────────────────────┤
│                                             │
│  项目名称:                                   │
│  ┌───────────────────────────────────────┐ │
│  │ 输入项目名称...                       │ │
│  └───────────────────────────────────────┘ │
│                                             │
│  项目描述:                                   │
│  ┌───────────────────────────────────────┐ │
│  │ 输入项目描述...                       │ │
│  │                                       │ │
│  │                                       │ │
│  └───────────────────────────────────────┘ │
│                                             │
│  标签:                                       │
│  ┌───────────────────────────────────────┐ │
│  │ 玄幻, 系统流, 末世 (回车添加)        │ │
│  └───────────────────────────────────────┘ │
│                                             │
│         [取消]          [创建项目]          │  ← Footer
└─────────────────────────────────────────────┘
```

**动画效果**:
- 打开: 淡入 + 缩放（从0.9到1.0）
- 关闭: 淡出 + 缩放（从1.0到0.9）
- 时长: 200ms

**代码示例**:
```tsx
<Modal
  isOpen={isOpen}
  onClose={handleClose}
  title="创建新项目"
>
  <ModalBody>
    <Input label="项目名称" placeholder="输入项目名称..." />
    <Textarea label="项目描述" rows={4} />
    <TagInput label="标签" />
  </ModalBody>
  <ModalFooter>
    <Button variant="secondary" onClick={handleClose}>取消</Button>
    <Button variant="primary" onClick={handleCreate}>创建项目</Button>
  </ModalFooter>
</Modal>
```

---

## 5. 交互设计

### 5.1 快捷键

| 快捷键 | 功能 | 作用域 |
|--------|-----|-------|
| `Ctrl+K` | 打开命令面板 | 全局 |
| `Ctrl+P` | 快速搜索项目 | 全局 |
| `Ctrl+N` | 新建项目 | Dashboard |
| `Ctrl+S` | 保存/导出 | 结果页 |
| `Ctrl+F` | 搜索日志 | 终端 |
| `Ctrl+L` | 清屏 | 终端 |
| `Esc` | 关闭模态框 | 模态框 |
| `Enter` | 确认操作 | 表单 |
| `↑/↓` | 上下选择 | 列表 |

**实现**:
```tsx
// 全局快捷键监听
useHotkeys([
  ['ctrl+k', () => openCommandPalette()],
  ['ctrl+p', () => openProjectSearch()],
  ['ctrl+n', () => openCreateModal()],
])
```

---

### 5.2 拖拽上传

```
┌─────────────────────────────────────────────┐
│  📄 拖拽文件到这里                           │
│  或点击选择 (.srt, .txt 最大50MB)            │
└─────────────────────────────────────────────┘

拖拽到区域上方时:
┌─────────────────────────────────────────────┐
│  🟦 松开鼠标上传文件                         │  ← 蓝色边框高亮
└─────────────────────────────────────────────┘

上传中:
┌─────────────────────────────────────────────┐
│  ⏳ 正在上传... ▓▓▓▓░░░░░░ 45%              │
└─────────────────────────────────────────────┘

上传完成:
┌─────────────────────────────────────────────┐
│  ✅ ep01.srt (45.6 KB)              [✕]     │
└─────────────────────────────────────────────┘
```

**实现**:
```tsx
<FileUploader
  accept=".srt,.txt"
  maxSize={50 * 1024 * 1024}
  onUpload={handleUpload}
  onError={handleError}
/>
```

---

### 5.3 Toast通知

```
右上角弹出:
┌─────────────────────────────────────────┐
│  ✅ 文件上传成功                        │  ← 成功通知（绿色）
│  ep01.srt 已成功上传                    │
└─────────────────────────────────────────┘

┌─────────────────────────────────────────┐
│  ⚠️ Token接近限额                       │  ← 警告通知（黄色）
│  当前Token: 18,543 / 20,000             │
└─────────────────────────────────────────┘

┌─────────────────────────────────────────┐
│  ❌ LLM API调用失败                     │  ← 错误通知（红色）
│  请检查API Key配置                      │
│  [重试] [查看详情]                       │
└─────────────────────────────────────────┘
```

**实现**:
```tsx
// 触发通知
toast.success("文件上传成功", {
  description: "ep01.srt 已成功上传",
  duration: 3000,
})

toast.error("LLM API调用失败", {
  description: "请检查API Key配置",
  action: <Button>重试</Button>,
})
```

---

### 5.4 Tooltip (提示框)

```
鼠标Hover到按钮上:

     ┌─────────────────────┐
     │ 开始处理工作流       │  ← Tooltip
     └──────────┬──────────┘
                │
          ┌─────┴──────┐
          │   开始 ▶   │  ← Button
          └────────────┘

带快捷键提示:
     ┌─────────────────────┐
     │ 新建项目  Ctrl+N    │
     └──────────┬──────────┘
                │
          ┌─────┴──────┐
          │     +      │
          └────────────┘
```

**实现**:
```tsx
<Tooltip content="开始处理工作流">
  <Button icon="▶">开始</Button>
</Tooltip>

<Tooltip content="新建项目" shortcut="Ctrl+N">
  <Button icon="+">新建</Button>
</Tooltip>
```

---

## 6. 动画效果

### 6.1 页面过渡

```typescript
// 淡入 + 上移
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.page-enter {
  animation: fadeInUp 300ms ease-out;
}
```

### 6.2 卡片Hover

```typescript
// 平滑边框高亮
.card {
  transition: all 0.2s ease;
  border: 1px solid #30363d;
}

.card:hover {
  border-color: #58a6ff;
  box-shadow: 0 0 0 1px #58a6ff;
  transform: translateY(-2px);
}
```

### 6.3 进度条动画

```typescript
// 进度条填充动画
@keyframes progressFill {
  from {
    width: 0%;
  }
  to {
    width: var(--progress);
  }
}

.progress-bar {
  animation: progressFill 1s ease-out;
}
```

### 6.4 加载动画

```
旋转Spinner:
    ⟳  ← 顺时针旋转

脉冲动画:
    ●  ← 缩放+透明度变化
```

```typescript
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.5;
    transform: scale(0.95);
  }
}
```

---

## 7. 响应式设计

### 7.1 断点

```typescript
const breakpoints = {
  sm: '640px',   // 小屏幕（手机）
  md: '768px',   // 中屏幕（平板）
  lg: '1024px',  // 大屏幕（笔记本）
  xl: '1280px',  // 超大屏幕（台式机）
}
```

### 7.2 布局适配

**桌面端 (>1024px)**:
```
┌─────────┬─────────────────────────────┐
│ Sidebar │  Main Content               │
│ (200px) │  (flex-1)                   │
│         │                             │
│         │                             │
└─────────┴─────────────────────────────┘
```

**平板端 (768px - 1024px)**:
```
┌──────┬──────────────────────────────┐
│ Side │  Main Content                │
│ (60) │  (flex-1)                    │
│ bar  │                              │
│ (折叠)│                              │
└──────┴──────────────────────────────┘
```

**手机端 (<768px)**:
```
┌─────────────────────────────────┐
│  Header                         │
├─────────────────────────────────┤
│  Main Content                   │
│  (全宽)                          │
│                                 │
└─────────────────────────────────┘
[Bottom Nav]
```

---

## 8. 实现示例

### 8.1 完整组件示例

```tsx
// Button.tsx
interface ButtonProps {
  variant?: 'primary' | 'secondary' | 'danger' | 'icon'
  icon?: React.ReactNode
  children?: React.ReactNode
  onClick?: () => void
  disabled?: boolean
}

export const Button: React.FC<ButtonProps> = ({
  variant = 'secondary',
  icon,
  children,
  onClick,
  disabled,
}) => {
  const variantClasses = {
    primary: 'bg-blue-500 hover:bg-blue-600 text-black',
    secondary: 'bg-secondary border border-border hover:border-blue-500',
    danger: 'bg-red-500 hover:bg-red-600 text-black',
    icon: 'p-2 hover:bg-hover',
  }

  return (
    <button
      className={`
        px-4 py-2 rounded font-mono text-sm
        transition-all duration-150
        disabled:opacity-50 disabled:cursor-not-allowed
        hover:scale-[0.98] active:scale-95
        ${variantClasses[variant]}
      `}
      onClick={onClick}
      disabled={disabled}
    >
      {icon && <span className="mr-2">{icon}</span>}
      {children}
    </button>
  )
}
```

### 8.2 Terminal组件示例

```tsx
// Terminal.tsx
import { useEffect, useRef } from 'react'
import { Terminal as XTerm } from 'xterm'
import 'xterm/css/xterm.css'

interface TerminalProps {
  logs: string[]
  maxHeight?: number
  autoScroll?: boolean
}

export const Terminal: React.FC<TerminalProps> = ({
  logs,
  maxHeight = 400,
  autoScroll = true,
}) => {
  const terminalRef = useRef<HTMLDivElement>(null)
  const xtermRef = useRef<XTerm>()

  useEffect(() => {
    if (!terminalRef.current) return

    const term = new XTerm({
      theme: {
        background: '#1d2021',
        foreground: '#ebdbb2',
        cursor: '#fabd2f',
        selection: '#504945',
        // ANSI colors (Gruvbox)
        black: '#282828',
        red: '#cc241d',
        green: '#98971a',
        yellow: '#d79921',
        blue: '#458588',
        magenta: '#b16286',
        cyan: '#689d6a',
        white: '#a89984',
      },
      fontFamily: 'JetBrains Mono, monospace',
      fontSize: 14,
      cursorBlink: true,
    })

    term.open(terminalRef.current)
    xtermRef.current = term

    return () => term.dispose()
  }, [])

  useEffect(() => {
    if (!xtermRef.current) return

    logs.forEach(log => {
      xtermRef.current?.writeln(log)
    })

    if (autoScroll) {
      xtermRef.current.scrollToBottom()
    }
  }, [logs, autoScroll])

  return (
    <div
      ref={terminalRef}
      className="terminal border border-border rounded-md"
      style={{ maxHeight }}
    />
  )
}
```

---

**文档版本**: v1.0  
**最后更新**: 2026-02-10  
**设计师**: AI-Narrated Recap Analyst Team
